# ç¯å¢ƒå˜é‡é…ç½®æŒ‡å—

æœ¬æ–‡æ¡£è¯¦ç»†è¯´æ˜ Ethereum Trading MCP Server æ”¯æŒçš„æ‰€æœ‰ç¯å¢ƒå˜é‡é…ç½®ã€‚

## å¿«é€Ÿå¼€å§‹

1. å¤åˆ¶ç¤ºä¾‹é…ç½®æ–‡ä»¶ï¼š

```bash
cp .env.example .env
```

2. ç¼–è¾‘ `.env` æ–‡ä»¶ï¼Œå¡«å…¥ä½ çš„é…ç½®å€¼

3. å¯åŠ¨æœåŠ¡å™¨ï¼ˆä¼šè‡ªåŠ¨åŠ è½½ .env æ–‡ä»¶ï¼‰ï¼š

```bash
cargo run --release
```

## é…ç½®åˆ†ç±»

### ğŸ–¥ï¸ æœåŠ¡å™¨é…ç½®

#### `SERVER_NAME`

- **ç±»å‹**: String
- **é»˜è®¤å€¼**: `ethereum-trading-server`
- **è¯´æ˜**: æœåŠ¡å™¨åç§°
- **ç¤ºä¾‹**:
  ```bash
  SERVER_NAME=my-eth-server
  ```

#### `SERVER_VERSION`

- **ç±»å‹**: String
- **é»˜è®¤å€¼**: `0.1.0`
- **è¯´æ˜**: æœåŠ¡å™¨ç‰ˆæœ¬å·
- **ç¤ºä¾‹**:
  ```bash
  SERVER_VERSION=1.0.0
  ```

#### `SERVER_DESCRIPTION`

- **ç±»å‹**: String
- **é»˜è®¤å€¼**: `ä»¥å¤ªåŠäº¤æ˜“ MCP æœåŠ¡å™¨ - æä¾›ä½™é¢æŸ¥è¯¢ç­‰åŠŸèƒ½`
- **è¯´æ˜**: æœåŠ¡å™¨æè¿°ä¿¡æ¯
- **ç¤ºä¾‹**:
  ```bash
  SERVER_DESCRIPTION=æˆ‘çš„ä»¥å¤ªåŠäº¤æ˜“æœåŠ¡å™¨
  ```

#### `LOG_LEVEL`

- **ç±»å‹**: String (trace | debug | info | warn | error)
- **é»˜è®¤å€¼**: `info`
- **è¯´æ˜**: æ—¥å¿—çº§åˆ«
- **ç¤ºä¾‹**:
  ```bash
  LOG_LEVEL=debug
  ```

---

### ğŸ§ª æµ‹è¯•æ¨¡å¼é…ç½®

#### `TEST_MODE`

- **ç±»å‹**: Boolean
- **é»˜è®¤å€¼**: `true`
- **è¯´æ˜**: æ˜¯å¦å¯ç”¨æµ‹è¯•æ¨¡å¼ã€‚æµ‹è¯•æ¨¡å¼ä¸‹è¿”å›å›ºå®šçš„æµ‹è¯•å€¼ï¼Œä¸è¿æ¥çœŸå®ç½‘ç»œ
- **ç¤ºä¾‹**:
  ```bash
  TEST_MODE=true
  ```

#### `TEST_BALANCE`

- **ç±»å‹**: Float
- **é»˜è®¤å€¼**: `100.0`
- **è¯´æ˜**: æµ‹è¯•æ¨¡å¼ä¸‹è¿”å›çš„ä½™é¢å€¼ï¼ˆå•ä½ï¼šETHï¼‰
- **ç¤ºä¾‹**:
  ```bash
  TEST_BALANCE=200.5
  ```

---

### â›“ï¸ ä»¥å¤ªåŠç½‘ç»œé…ç½®

#### `ETH_RPC_URL`

- **ç±»å‹**: String (URL)
- **é»˜è®¤å€¼**: ç©º
- **å¿…éœ€**: éæµ‹è¯•æ¨¡å¼ä¸‹å¿…éœ€
- **è¯´æ˜**: ä»¥å¤ªåŠ RPC èŠ‚ç‚¹åœ°å€
- **ç¤ºä¾‹**:

  ```bash
  # Alchemy
  ETH_RPC_URL=https://eth.llamarpc.com

  # Infura
  ETH_RPC_URL=https://mainnet.infura.io/v3/YOUR_PROJECT_ID

  # æœ¬åœ°èŠ‚ç‚¹
  ETH_RPC_URL=http://localhost:8545
  ```

#### `ETH_NETWORK_ID`

- **ç±»å‹**: Integer
- **é»˜è®¤å€¼**: ç©º
- **è¯´æ˜**: ä»¥å¤ªåŠç½‘ç»œ ID
- **å¸¸ç”¨å€¼**:
  - `1` - ä¸»ç½‘ (Mainnet)
  - `5` - Goerli æµ‹è¯•ç½‘
  - `11155111` - Sepolia æµ‹è¯•ç½‘
- **ç¤ºä¾‹**:
  ```bash
  ETH_NETWORK_ID=1
  ```

#### `ETH_CHAIN_ID`

- **ç±»å‹**: Integer
- **é»˜è®¤å€¼**: ç©º
- **è¯´æ˜**: é“¾ IDï¼Œç”¨äºç­¾åéªŒè¯
- **ç¤ºä¾‹**:
  ```bash
  ETH_CHAIN_ID=1
  ```

---

### ğŸ”‘ API å¯†é’¥é…ç½®

#### `ALCHEMY_API_KEY`

- **ç±»å‹**: String
- **é»˜è®¤å€¼**: ç©º
- **è¯´æ˜**: Alchemy API å¯†é’¥
- **è·å–æ–¹å¼**: https://www.alchemy.com/
- **ç¤ºä¾‹**:
  ```bash
  ALCHEMY_API_KEY=your_alchemy_api_key_here
  ```

#### `INFURA_API_KEY`

- **ç±»å‹**: String
- **é»˜è®¤å€¼**: ç©º
- **è¯´æ˜**: Infura API å¯†é’¥
- **è·å–æ–¹å¼**: https://infura.io/
- **ç¤ºä¾‹**:
  ```bash
  INFURA_API_KEY=your_infura_api_key_here
  ```

#### `ETHERSCAN_API_KEY`

- **ç±»å‹**: String
- **é»˜è®¤å€¼**: ç©º
- **è¯´æ˜**: Etherscan API å¯†é’¥ï¼ˆç”¨äºäº¤æ˜“éªŒè¯ï¼‰
- **è·å–æ–¹å¼**: https://etherscan.io/apis
- **ç¤ºä¾‹**:
  ```bash
  ETHERSCAN_API_KEY=your_etherscan_api_key_here
  ```

---

### ğŸ” é’±åŒ…é…ç½®ï¼ˆæœªæ¥åŠŸèƒ½ï¼‰

âš ï¸ **å®‰å…¨è­¦å‘Š**: ç”Ÿäº§ç¯å¢ƒä¸è¦ç›´æ¥åœ¨ .env æ–‡ä»¶ä¸­å­˜å‚¨ç§é’¥æˆ–åŠ©è®°è¯ï¼

#### `PRIVATE_KEY`

- **ç±»å‹**: String
- **é»˜è®¤å€¼**: ç©º
- **è¯´æ˜**: é’±åŒ…ç§é’¥ï¼ˆä»…ç”¨äºå¼€å‘æµ‹è¯•ï¼‰
- **å®‰å…¨å»ºè®®**: ä½¿ç”¨ç¡¬ä»¶é’±åŒ…æˆ–å¯†é’¥ç®¡ç†æœåŠ¡

#### `MNEMONIC`

- **ç±»å‹**: String
- **é»˜è®¤å€¼**: ç©º
- **è¯´æ˜**: é’±åŒ…åŠ©è®°è¯ï¼ˆä»…ç”¨äºå¼€å‘æµ‹è¯•ï¼‰
- **å®‰å…¨å»ºè®®**: ä½¿ç”¨ç¡¬ä»¶é’±åŒ…æˆ–å¯†é’¥ç®¡ç†æœåŠ¡

---

### âš¡ æ€§èƒ½é…ç½®ï¼ˆæœªæ¥åŠŸèƒ½ï¼‰

#### `HTTP_TIMEOUT`

- **ç±»å‹**: Integer
- **é»˜è®¤å€¼**: `30`
- **è¯´æ˜**: HTTP è¯·æ±‚è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰
- **ç¤ºä¾‹**:
  ```bash
  HTTP_TIMEOUT=60
  ```

#### `MAX_CONCURRENT_REQUESTS`

- **ç±»å‹**: Integer
- **é»˜è®¤å€¼**: `10`
- **è¯´æ˜**: æœ€å¤§å¹¶å‘è¯·æ±‚æ•°
- **ç¤ºä¾‹**:
  ```bash
  MAX_CONCURRENT_REQUESTS=20
  ```

---

## é…ç½®ç¤ºä¾‹

### å¼€å‘ç¯å¢ƒï¼ˆæµ‹è¯•æ¨¡å¼ï¼‰

```bash
# .env
TEST_MODE=true
TEST_BALANCE=100.0
LOG_LEVEL=debug
```

### ç”Ÿäº§ç¯å¢ƒï¼ˆä¸»ç½‘ï¼‰

```bash
# .env
TEST_MODE=false
ETH_RPC_URL=https://eth.llamarpc.com
ETH_NETWORK_ID=1
ETH_CHAIN_ID=1
ALCHEMY_API_KEY=your_alchemy_api_key
LOG_LEVEL=info
```

### ç”Ÿäº§ç¯å¢ƒï¼ˆæµ‹è¯•ç½‘ï¼‰

```bash
# .env
TEST_MODE=false
ETH_RPC_URL=https://eth-sepolia.g.alchemy.com/v2/YOUR_API_KEY
ETH_NETWORK_ID=11155111
ETH_CHAIN_ID=11155111
ALCHEMY_API_KEY=your_alchemy_api_key
LOG_LEVEL=info
```

---

## é…ç½®éªŒè¯

æœåŠ¡å™¨å¯åŠ¨æ—¶ä¼šè‡ªåŠ¨éªŒè¯é…ç½®ï¼š

1. **æµ‹è¯•æ¨¡å¼æ£€æŸ¥**: å¦‚æœ `TEST_MODE=false`ï¼Œå¿…é¡»é…ç½® `ETH_RPC_URL`
2. **ä½™é¢å€¼æ£€æŸ¥**: `TEST_BALANCE` ä¸èƒ½ä¸ºè´Ÿæ•°
3. **é…ç½®ä¿¡æ¯æ‰“å°**: å¯åŠ¨æ—¶ä¼šæ‰“å°é…ç½®ä¿¡æ¯ï¼ˆéšè—æ•æ„Ÿæ•°æ®ï¼‰

---

## å®‰å…¨æœ€ä½³å®è·µ

### âœ… æ¨èåšæ³•

1. **ä½¿ç”¨ .env æ–‡ä»¶**: å°†é…ç½®æ”¾åœ¨ `.env` æ–‡ä»¶ä¸­ï¼Œä¸è¦ç¡¬ç¼–ç 
2. **æ·»åŠ åˆ° .gitignore**: ç¡®ä¿ `.env` æ–‡ä»¶ä¸ä¼šè¢«æäº¤åˆ° Git
3. **ä½¿ç”¨ç¯å¢ƒå˜é‡**: ç”Ÿäº§ç¯å¢ƒä½¿ç”¨ç³»ç»Ÿç¯å¢ƒå˜é‡è€Œä¸æ˜¯ .env æ–‡ä»¶
4. **å®šæœŸè½®æ¢å¯†é’¥**: å®šæœŸæ›´æ¢ API å¯†é’¥
5. **æœ€å°æƒé™åŸåˆ™**: API å¯†é’¥åªæˆäºˆå¿…è¦çš„æƒé™

### âŒ é¿å…åšæ³•

1. âŒ ä¸è¦å°† `.env` æ–‡ä»¶æäº¤åˆ° Git
2. âŒ ä¸è¦åœ¨ä»£ç ä¸­ç¡¬ç¼–ç å¯†é’¥
3. âŒ ä¸è¦åœ¨ .env ä¸­å­˜å‚¨ç”Ÿäº§ç¯å¢ƒçš„ç§é’¥
4. âŒ ä¸è¦å…±äº«åŒ…å«æ•æ„Ÿä¿¡æ¯çš„ .env æ–‡ä»¶
5. âŒ ä¸è¦åœ¨æ—¥å¿—ä¸­è¾“å‡ºå®Œæ•´çš„ API å¯†é’¥

---

## ç¯å¢ƒå˜é‡ä¼˜å…ˆçº§

é…ç½®åŠ è½½é¡ºåºï¼ˆåè€…è¦†ç›–å‰è€…ï¼‰ï¼š

1. å†…ç½®é»˜è®¤å€¼
2. `.env` æ–‡ä»¶
3. ç³»ç»Ÿç¯å¢ƒå˜é‡

ç¤ºä¾‹ï¼š

```bash
# .env æ–‡ä»¶
TEST_BALANCE=100.0

# å‘½ä»¤è¡Œè¦†ç›–
TEST_BALANCE=200.0 cargo run
```

---

## æ•…éšœæ’æŸ¥

### é—®é¢˜ï¼šé…ç½®æ²¡æœ‰ç”Ÿæ•ˆ

**è§£å†³æ–¹æ¡ˆ**:

1. ç¡®è®¤ `.env` æ–‡ä»¶åœ¨é¡¹ç›®æ ¹ç›®å½•
2. æ£€æŸ¥æ–‡ä»¶ç¼–ç æ˜¯å¦ä¸º UTF-8
3. ç¡®è®¤ç¯å¢ƒå˜é‡åç§°æ‹¼å†™æ­£ç¡®
4. é‡å¯æœåŠ¡å™¨

### é—®é¢˜ï¼šéæµ‹è¯•æ¨¡å¼å¯åŠ¨å¤±è´¥

**é”™è¯¯ä¿¡æ¯**: "éæµ‹è¯•æ¨¡å¼ä¸‹å¿…é¡»é…ç½® ETH_RPC_URL"

**è§£å†³æ–¹æ¡ˆ**:

```bash
# è®¾ç½® RPC URL
echo "ETH_RPC_URL=https://eth-mainnet.g.alchemy.com/v2/YOUR_KEY" >> .env

# æˆ–è€…å¯ç”¨æµ‹è¯•æ¨¡å¼
echo "TEST_MODE=true" >> .env
```

### é—®é¢˜ï¼šå¦‚ä½•æŸ¥çœ‹å½“å‰é…ç½®

æœåŠ¡å™¨å¯åŠ¨æ—¶ä¼šæ‰“å°é…ç½®ä¿¡æ¯ï¼š

```
ğŸ“‹ é…ç½®ä¿¡æ¯:
  æœåŠ¡å™¨åç§°: ethereum-trading-server
  æœåŠ¡å™¨ç‰ˆæœ¬: 0.1.0
  æµ‹è¯•æ¨¡å¼: true
  æµ‹è¯•ä½™é¢: 100 ETH
```

---

## å‚è€ƒèµ„æº

- [Alchemy æ–‡æ¡£](https://docs.alchemy.com/)
- [Infura æ–‡æ¡£](https://docs.infura.io/)
- [Etherscan API æ–‡æ¡£](https://docs.etherscan.io/)
- [ä»¥å¤ªåŠ JSON-RPC æ–‡æ¡£](https://ethereum.org/en/developers/docs/apis/json-rpc/)

---

**æœ€åæ›´æ–°**: 2025-10-28
**ç»´æŠ¤è€…**: Ethereum Trading MCP Server Team
